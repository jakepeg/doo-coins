{"version":3,"sources":["webpack://doocoins/./src/pages/add_child.js"],"names":["React","image","setImage","actor","setActor","then","module","default","onSubmit","e","preventDefault","inputs","target","querySelectorAll","child_id","querySelector","value","child_name","set","alert","forEach","input","htmlFor","type","name","autoComplete","id","accept","onChange","file","files","reader","FileReader","addEventListener","result","readAsDataURL","src","alt"],"mappings":"8HAiGA,UA9Fc,WACZ,MAA0BA,WAAe,IAAlCC,EAAP,KAAcC,EAAd,KACA,EAA0BF,WAAe,MAAlCG,EAAP,KAAcC,EAAd,KAmDA,OAjDAJ,aAAgB,WACd,8BAAmBK,MAAK,SAACC,GACvBF,EAASE,EAAOC,cAEjB,IA8CL,gCACM,uDACA,yCAGA,wBAAMC,SAjDV,SAAsBC,GACpBA,EAAEC,iBAEF,IAAMC,EAASF,EAAEG,OAAOC,iBAAiB,SACnCC,EAAWL,EAAEG,OAAOG,cAAc,0BAA0BC,MAC5DC,EAAaR,EAAEG,OAAOG,cAAc,4BAA4BC,MAetE,OAdoBP,EAAEG,OAAOG,cAAc,6BAA6BC,MAKtEb,WAAOe,IAAIJ,EAAUG,GAAYZ,MAAK,WACtCc,MAAM,gBAENR,EAAOS,SAAQ,SAACC,GACdA,EAAML,MAAQ,MAEhBd,EAAS,QAGJ,IAgCD,yBAAOoB,QAAQ,cAAf,OAEE,yBAAOC,KAAK,OAAOC,KAAK,aAAaC,aAAa,UAEpD,2BACA,yBAAOH,QAAQ,YAAf,WAEE,yBAAOC,KAAK,OAAOC,KAAK,WAAWC,aAAa,cAElD,2BACA,yBAAOH,QAAQ,eAAf,kBAEE,yBACEC,KAAK,OACLG,GAAG,MACHF,KAAK,cACLG,OAAO,UACPC,SA9CZ,SAAsBnB,GACpB,IAAMoB,EAAOpB,EAAEG,OAAOkB,MAAM,GACtBC,EAAS,IAAIC,WAEnBD,EAAOE,iBACL,QACA,WAEE/B,EAAS6B,EAAOG,WAElB,GAGEL,GACFE,EAAOI,cAAcN,OAmChB5B,EAEG,uBAAKmC,IAAKnC,EAAOoC,IAAI,gBAErB,KACJ,2BACF,0BAAQd,KAAK,UAAb","file":"component---src-pages-add-child-js-5143c6f9b8d98836518c.js","sourcesContent":["import * as React from \"react\";\n\n// markup\nconst Child = () => {\n  const [image, setImage] = React.useState(\"\");\n  const [actor, setActor] = React.useState(null);\n\n  React.useEffect(() => {\n    import(\"../actor\").then((module) => {\n      setActor(module.default);\n    });\n  }, []);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    const inputs = e.target.querySelectorAll(\"input\");\n    const child_id = e.target.querySelector('input[name=\"child_id\"]').value;\n    const child_name = e.target.querySelector('input[name=\"child_name\"]').value;\n    const child_photo = e.target.querySelector('input[name=\"child_photo\"]').value;\n\n    // card.add(\"photo\", btoa(image), { mediatype: \"image/gif\" });\n\n    // actor?.set(child_id, child_name, child_photo).then(() => {\n      actor?.set(child_id, child_name).then(() => {\n      alert(\"Child Added!\");\n      // clear the form\n      inputs.forEach((input) => {\n        input.value = \"\";\n      });\n      setImage(\"\");\n    });\n\n    return false;\n  }\n\n  function handleUpload(e) {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n\n    reader.addEventListener(\n      \"load\",\n      function () {\n        // convert image file to base64 string\n        setImage(reader.result);\n      },\n      false\n    );\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }\n\n\n\n  return (\n<>\n      <title>DooCoins - Add a Child</title>\n      <h1>Add a Child</h1>\n\n\n      <form onSubmit={handleSubmit}>\n\n\n          <label htmlFor=\"child_name\">\n            Name\n            <input type=\"text\" name=\"child_name\" autoComplete=\"name\" />\n          </label>\n          <br />\n          <label htmlFor=\"child_id\">\n            Child ID\n            <input type=\"text\" name=\"child_id\" autoComplete=\"child id\" />\n          </label>\n          <br />\n          <label htmlFor=\"child_photo\">\n            Profile picture\n            <input\n              type=\"file\"\n              id=\"img\"\n              name=\"child_photo\"\n              accept=\"image/*\"\n              onChange={handleUpload}\n            />\n          </label>\n          {image ? (\n\n              <img src={image} alt=\"profile pic\" />\n\n          ) : null}\n          <br />\n        <button type=\"submit\">Add Child</button>\n      </form>\n</>\n  );\n};\n\nexport default Child;"],"sourceRoot":""}