(self.webpackChunkdoocoins=self.webpackChunkdoocoins||[]).push([[673],{4357:function(e,t,l){"use strict";l.r(t);var n=l(7294),a=l(9),r=l(826),i=l.n(r),o=a.ZP.main.withConfig({displayName:"add_child__Main",componentId:"sc-w7i504-0"})(['color:"#232129";padding:96;font-family:"-apple-system, Roboto, sans-serif, serif";width:fit-content;fieldset,label{display:flex;flex-direction:column;}input{min-width:280px;width:fit-content;}']),m=a.ZP.picture.withConfig({displayName:"add_child__ProfilePicture",componentId:"sc-w7i504-1"})(["display:flex;width:256px;img{width:100%;}"]),c=a.ZP.dl.withConfig({displayName:"add_child__DataList",componentId:"sc-w7i504-2"})(["display:grid;grid-template-columns:auto auto;dt,dd{display:inline-flex;border:1px solid black;padding:4px;margin:0;padding-right:16px;}picture,image{max-width:75px;}"]),u=function(e){var t=e.card;return t&&t.data?n.createElement("section",null,n.createElement(c,null,Object.entries(t.data).map((function(e){e[0];var t=e[1];t[0],t[1];return console.log(t),"photo"===t._field?n.createElement(n.Fragment,{key:t._field},n.createElement("dt",null,t._field),n.createElement("dd",null,n.createElement(m,null,n.createElement("img",{style:{maxWidth:"75px"},src:atob(t._data),alt:"profile"})))):n.createElement(n.Fragment,null,n.createElement("dt",null,t._field),n.createElement("dd",null,t._data))}))),n.createElement("a",{href:"data:text/plain;charset=utf-8,"+encodeURIComponent(t.toString()),download:"contact.vcf"},"Download VCF")):null};t.default=function(){var e=n.useState(""),t=e[0],a=e[1],r=n.useState(null),c=r[0],d=r[1],p=n.useState(null),f=p[0],s=p[1];return n.useEffect((function(){l.e(701).then(l.bind(l,8701)).then((function(e){s(e.default)}))}),[]),n.createElement(o,null,n.createElement("title",null,"Contact Book"),n.createElement("h1",null,"Internet Computer Address Book"),n.createElement("section",null,n.createElement("h2",null,"Look up a contact by email"),n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target.querySelector('input[name="emailsearch"]').value;return null==f||f.get(t).then((function(e){if(!e.length)return alert("No contact found for that email");d(i().fromJSON(e[0])),console.log(e)})),!1}},n.createElement("label",{htmlFor:"emailsearch"},n.createElement("input",{type:"email",name:"emailsearch",id:"emailsearch"})),n.createElement("button",{type:"submit"},"Search"))),n.createElement(u,{card:c}),n.createElement("form",{onSubmit:function(e){e.preventDefault();var l=new(i()),n=e.target.querySelectorAll("input"),r=e.target.querySelector('input[name="email"]').value;return n.forEach((function(e){if("photo"!==e.name)if("n"===e.name){var t=e.value.split(" "),n=new Array(5);t.reverse().forEach((function(e,t){n[t]=e})),l.add("fn",e.value),l.add(e.name,n.join(";"))}else l.add(e.name,e.value)})),l.add("photo",btoa(t),{mediatype:"image/gif"}),null==f||f.set(r,JSON.stringify(l.toJSON())).then((function(){alert("card uploaded!"),n.forEach((function(e){e.value=""})),a("")})),!1}},n.createElement("h2",null,"Add a Contact"),n.createElement("fieldset",null,n.createElement("h3",null,"Personal Information"),n.createElement("label",{htmlFor:"n"},"Full Name",n.createElement("input",{type:"text",name:"n",autoComplete:"name"})),n.createElement("label",{htmlFor:"org"},"Organziation",n.createElement("input",{type:"text",name:"org",autoComplete:"organization"})),n.createElement("label",{htmlFor:"title"},"Title",n.createElement("input",{type:"text",name:"title",autoComplete:"organization-title"}))),n.createElement("fieldset",null,n.createElement("h3",null,"Profile photo"),n.createElement("label",{htmlFor:"photo"},"Upload an image",n.createElement("input",{type:"file",id:"img",name:"photo",accept:"image/*",onChange:function(e){var t=e.target.files[0],l=new FileReader;l.addEventListener("load",(function(){a(l.result)}),!1),t&&l.readAsDataURL(t)}})),t?n.createElement(m,null,n.createElement("img",{src:t,alt:"user-uploaded profile image"})):null),n.createElement("fieldset",null,n.createElement("h3",null,"Contact"),n.createElement("label",{htmlFor:"tel"},"Phone number",n.createElement("input",{type:"text",name:"tel"})),n.createElement("label",{htmlFor:"adr"},"Address",n.createElement("input",{type:"text",name:"adr",autoComplete:"on"})),n.createElement("label",{htmlFor:"email"},"Email",n.createElement("input",{required:!0,type:"email",name:"email",autoComplete:"email"}))),n.createElement("button",{type:"submit"},"Submit Contact")))}}}]);
//# sourceMappingURL=component---src-pages-add-child-js-4da81cc20bc60d9cc197.js.map