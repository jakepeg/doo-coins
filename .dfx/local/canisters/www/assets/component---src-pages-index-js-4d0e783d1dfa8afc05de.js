(self.webpackChunkdoocoins=self.webpackChunkdoocoins||[]).push([[678],{7704:function(e,t,n){"use strict";n.r(t);var l=n(7294),a=n(9),r=n(826),i=n.n(r),o=a.ZP.main.withConfig({displayName:"pages__Main",componentId:"sc-1xr3ucw-0"})(['color:"#232129";padding:96;font-family:"-apple-system, Roboto, sans-serif, serif";width:fit-content;fieldset,label{display:flex;flex-direction:column;}input{min-width:280px;width:fit-content;}']),m=a.ZP.picture.withConfig({displayName:"pages__ProfilePicture",componentId:"sc-1xr3ucw-1"})(["display:flex;width:256px;img{width:100%;}"]),c=a.ZP.dl.withConfig({displayName:"pages__DataList",componentId:"sc-1xr3ucw-2"})(["display:grid;grid-template-columns:auto auto;dt,dd{display:inline-flex;border:1px solid black;padding:4px;margin:0;padding-right:16px;}picture,image{max-width:75px;}"]),u=function(e){var t=e.card;return t&&t.data?l.createElement("section",null,l.createElement(c,null,Object.entries(t.data).map((function(e){e[0];var t=e[1];t[0],t[1];return console.log(t),"photo"===t._field?l.createElement(l.Fragment,{key:t._field},l.createElement("dt",null,t._field," hello"),l.createElement("dd",null,l.createElement(m,null,l.createElement("img",{style:{maxWidth:"75px"},src:atob(t._data),alt:"profile"})))):l.createElement(l.Fragment,null,l.createElement("dt",null,"field ",t._field),l.createElement("dd",null,"data ",t._data))}))),l.createElement("a",{href:"data:text/plain;charset=utf-8,"+encodeURIComponent(t.toString()),download:"contact.vcf"},"Download VCF")):null};t.default=function(){var e=l.useState(""),t=e[0],a=e[1],r=l.useState(null),c=r[0],d=r[1],p=l.useState(null),f=p[0],s=p[1];return l.useEffect((function(){n.e(701).then(n.bind(n,8701)).then((function(e){s(e.default)}))}),[]),l.createElement(o,null,l.createElement("title",null,"Contact Book"),l.createElement("h1",null,"Internet Computer Address Book"),l.createElement("section",null,l.createElement("h2",null,"Look up a contact by email"),l.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target.querySelector('input[name="emailsearch"]').value;return null==f||f.get(t).then((function(e){if(!e.length)return alert("No contact found for that email");d(i().fromJSON(e[0])),console.log(e)})),!1}},l.createElement("label",{htmlFor:"emailsearch"},l.createElement("input",{type:"text",name:"emailsearch",id:"emailsearch"})),l.createElement("button",{type:"submit"},"Search"))),l.createElement(u,{card:c}),l.createElement("form",{onSubmit:function(e){e.preventDefault();var n=new(i()),l=e.target.querySelectorAll("input"),r=e.target.querySelector('input[name="email"]').value;return l.forEach((function(e){if("photo"!==e.name)if("n"===e.name){var t=e.value.split(" "),l=new Array(5);t.reverse().forEach((function(e,t){l[t]=e})),n.add("fn",e.value),n.add(e.name,l.join(";"))}else n.add(e.name,e.value)})),n.add("photo",btoa(t),{mediatype:"image/gif"}),null==f||f.set(r,JSON.stringify(n.toJSON())).then((function(){alert("card uploaded!"),l.forEach((function(e){e.value=""})),a("")})),!1}},l.createElement("h2",null,"Add a Contact"),l.createElement("fieldset",null,l.createElement("h3",null,"Personal Information"),l.createElement("label",{htmlFor:"n"},"Full Name",l.createElement("input",{type:"text",name:"n",autoComplete:"name"})),l.createElement("label",{htmlFor:"org"},"Organziation",l.createElement("input",{type:"text",name:"org",autoComplete:"organization"})),l.createElement("label",{htmlFor:"title"},"Title",l.createElement("input",{type:"text",name:"title",autoComplete:"organization-title"}))),l.createElement("fieldset",null,l.createElement("h3",null,"Profile photo"),l.createElement("label",{htmlFor:"photo"},"Upload an image",l.createElement("input",{type:"file",id:"img",name:"photo",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.addEventListener("load",(function(){a(n.result)}),!1),t&&n.readAsDataURL(t)}})),t?l.createElement(m,null,l.createElement("img",{src:t,alt:"user-uploaded profile image"})):null),l.createElement("fieldset",null,l.createElement("h3",null,"Contact"),l.createElement("label",{htmlFor:"tel"},"Phone number",l.createElement("input",{type:"text",name:"tel"})),l.createElement("label",{htmlFor:"adr"},"Address",l.createElement("input",{type:"text",name:"adr",autoComplete:"on"})),l.createElement("label",{htmlFor:"email"},"Email",l.createElement("input",{required:!0,type:"email",name:"email",autoComplete:"email"}))),l.createElement("button",{type:"submit"},"Submit Contact")))}}}]);
//# sourceMappingURL=component---src-pages-index-js-4d0e783d1dfa8afc05de.js.map