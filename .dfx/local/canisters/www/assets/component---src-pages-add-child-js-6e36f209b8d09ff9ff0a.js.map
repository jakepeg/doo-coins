{"version":3,"sources":["webpack://doocoins/./node_modules/react-uuid/uuid.js","webpack://doocoins/./src/pages/add-child.js"],"names":["module","exports","hashTable","uuid","i","Math","floor","random","length","join","React","image","setImage","actor","setActor","then","default","onSubmit","e","preventDefault","inputs","target","querySelectorAll","child_id","child_photo","querySelector","value","child_info","push","btoa","mediatype","addChild","JSON","stringify","alert","forEach","input","htmlFor","type","name","autoComplete","id","accept","onChange","files","reader","FileReader","addEventListener","result","src","alt"],"mappings":"wFAoBAA,EAAOC,QAfP,WAIE,IAHA,IAAIC,EAAY,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACxFC,EAAO,GAEFC,EAAI,EAAGA,EAAI,GAAIA,IAEpBD,EAAKC,GADG,IAANA,GAAiB,KAANA,GAAkB,KAANA,GAAkB,KAANA,EAC3B,IAEAF,EAAUG,KAAKC,MAAMD,KAAKE,SAAWL,EAAUM,OAAS,IAItE,OAAOL,EAAKM,KAAK,M,0EC8EnB,UA3Fc,WACZ,MAA0BC,WAAe,IAAlCC,EAAP,KAAcC,EAAd,KACA,EAA0BF,WAAe,MAAlCG,EAAP,KAAcC,EAAd,KAoDA,OAlDAJ,aAAgB,WACd,8BAAmBK,MAAK,SAACf,GACvBc,EAASd,EAAOgB,cAEjB,IA+CL,gCACM,uDACA,yCAGA,wBAAMC,SAlDV,SAAsBC,GACpBA,EAAEC,iBAEF,IAAMC,EAASF,EAAEG,OAAOC,iBAAiB,SACnCC,EAAYpB,MAEZqB,GADaN,EAAEG,OAAOI,cAAc,4BAA4BC,MAClDR,EAAEG,OAAOI,cAAc,6BAA6BC,OAClEC,EAAa,GAcnB,OAZAA,EAAWC,KAAKJ,EAAaK,KAAKlB,GAAQ,CAAEmB,UAAW,cAErDjB,WAAOkB,SAASR,EAAUS,KAAKC,UAAUN,IAAaZ,MAAK,WAE3DmB,MAAM,gBAENd,EAAOe,SAAQ,SAACC,GACdA,EAAMV,MAAQ,MAEhBd,EAAS,QAGJ,IAgCD,yBAAOyB,QAAQ,cAAf,OAEE,yBAAOC,KAAK,OAAOC,KAAK,aAAaC,aAAa,UAEpD,2BAAM,2BACN,yBAAOH,QAAQ,eAAf,kBACiB,2BAAM,2BACrB,yBACEC,KAAK,OACLG,GAAG,MACHF,KAAK,cACLG,OAAO,UACPC,SAzCZ,SAAsBzB,GACPA,EAAEG,OAAOuB,MAAM,GAA5B,IACMC,EAAS,IAAIC,WAEnBD,EAAOE,iBACL,QACA,WAEEnC,EAASiC,EAAOG,WAElB,OAkCKrC,EAEG,uBAAKsC,IAAKtC,EAAOuC,IAAI,gBAErB,KACJ,2BAAM,2BAER,0BAAQZ,KAAK,UAAb","file":"component---src-pages-add-child-js-6e36f209b8d09ff9ff0a.js","sourcesContent":["/**\nA function that returns a universally unique identifier (uuid).  \nexample: 1b83fd69-abe7-468c-bea1-306a8aa1c81d\n@returns `string` : 32 character uuid (see example)\n*/\nfunction uuid() {\n  var hashTable = ['a', 'b', 'c', 'd', 'e', 'f', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\n  var uuid = [];\n\n  for (var i = 0; i < 35; i++) {\n    if (i === 7 || i === 12 || i === 17 || i === 22) {\n      uuid[i] = '-';\n    } else {\n      uuid[i] = hashTable[Math.floor(Math.random() * hashTable.length - 1)];\n    }\n  }\n\n  return uuid.join('');\n}\n\nmodule.exports = uuid;","import * as React from \"react\";\nimport uuid from 'react-uuid'\n\n// markup\nconst Child = () => {\n  const [image, setImage] = React.useState(\"\");\n  const [actor, setActor] = React.useState(null);\n\n  React.useEffect(() => {\n    import(\"../actor\").then((module) => {\n      setActor(module.default);\n    });\n  }, []);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    const inputs = e.target.querySelectorAll(\"input\");\n    const child_id =  uuid();\n    const child_name = e.target.querySelector('input[name=\"child_name\"]').value;\n    const child_photo = e.target.querySelector('input[name=\"child_photo\"]').value;\n    const child_info = []\n    // child_info.push(child_name);\n    child_info.push(child_photo, btoa(image), { mediatype: \"image/gif\" });\n\n      actor?.addChild(child_id, JSON.stringify(child_info)).then(() => {\n      // actor?.set(child_id, child_info).then(() => {\n      alert(\"Child Added!\");\n      // clear the form\n      inputs.forEach((input) => {\n        input.value = \"\";\n      });\n      setImage(\"\");\n    });\n\n    return false;\n  }\n\n  function handleUpload(e) {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n\n    reader.addEventListener(\n      \"load\",\n      function () {\n        // convert image file to base64 string\n        setImage(reader.result);\n      },\n      false\n    );\n\n    if (file) {\n     // reader.readAsDataURL(file);\n    }\n  }\n\n\n\n  return (\n<>\n      <title>DooCoins - Add a Child</title>\n      <h1>Add a Child</h1>\n\n\n      <form onSubmit={handleSubmit}>\n\n\n          <label htmlFor=\"child_name\">\n            Name\n            <input type=\"text\" name=\"child_name\" autoComplete=\"name\" />\n          </label>\n          <br /><br />\n          <label htmlFor=\"child_photo\">\n            Profile picture<br /><br />\n            <input\n              type=\"file\"\n              id=\"img\"\n              name=\"child_photo\"\n              accept=\"image/*\"\n              onChange={handleUpload}\n            />\n          </label>\n          {image ? (\n\n              <img src={image} alt=\"profile pic\" />\n\n          ) : null}\n          <br /><br />\n          {/* <input type=\"hidden\" name=\"wallet_balance\" value=\"0\" /> */}\n        <button type=\"submit\">Add Child</button>\n      </form>\n</>\n  );\n};\n\nexport default Child;"],"sourceRoot":""}